# Items Submission

The [version _0.17_](/pt-br/releases#tainacan-beta-017) of Tainacan brings the possibility of opening collections for _public submission_ of items (also referred to as _self-deposit_). This means that users without administrative privileges, or even site visitors, can themselves create items in a Collection, **thus expanding the possibilities of a _collaborative_ collection generated by multiple people**.

Behind the scenes, Item Submission is nothing more than bringing the [item creation form](/pt-br/items#criar-itens), with the [metadata configured in the collection](/pt-br/metadata#tipos-de-metadados), to a public page of the site. This is done through a [Gutenberg block](/pt-br/gutenberg-blocks) and some extra settings. On this page, we explain how to configure your public Item Submission form. We will cover:

1. The necessary adjustments in the [collection configuration](#configurando-a-coleção);
2. The process of [creating the form block](#criando-o-bloco-de-submissão-de-itens);
3. Some [advanced settings](#configurações-avançadas-do-bloco) for the block;
4. Protection against site attacks [using _reCAPTCHA_ verification](#verificação-recaptcha-no-formulário);
5. Some [frequently asked questions](#duvidas-frequentes) about this functionality;

## Configuring the Collection

On the configuration page of every Collection, there is a field that allows enabling item submission. When enabled, new options appear, as shown in the screenshot below:

![Screenshot of settings related to item submission in the collection](pt-br/_assets/images/colecao_submissao_de_item.png)

With this field enabled, this collection can be listed for [the item submission block](#criando-o-bloco-de-submissão-de-itens), which we will discuss shortly. The next field, **"Allow submission by anonymous users"**, concerns which users will be able to submit this form. By default, it is not just anyone visiting the site, but at least people registered in your WordPress system who have this power. If enabled, even people who have never logged into the site will be able to submit information.

?> If you are interested in opening your collection to anonymous users, it is important to understand that the items will not have a record of _"who"_ created them. In the administrative system, the field _"Created by"_ will only contain the information _"anonymous"_. In this case, it may be useful to create Metadata that identifies the **submission author**, such as a Text metadata called "User Name" marked as mandatory.

Every item created by the form will have a **default status**. To ensure that items can be validated before being published in the public collection, it is recommended to keep their status as "Private" or "Draft." The main difference is that draft items do not need to be completed, so not all validation of mandatory metadata, for example, has been done. Private items will only be seen by logged-in users with permission to do so, possibly reviewers in your item approval workflow.

Finally, as with any form on the Web, it is important to protect your site against attacks from malicious users. We detail the functionality of the **Use reCAPTCHA verification in the submission form** option in a separate section.

## Creating the Item Submission Block

To make your form available to site visitors, you need to create a page or post in your WordPress administrative panel. As explained in more detail [on our page about Gutenberg Blocks](/pt-br/gutenberg-blocks), this is the new content editor in WordPress, where you can name the page or even include content to present your form to the user, such as a title and explanatory text. Once this is done, a search for the "Item Submission Form" block in the list of blocks will allow you to insert the form:

![Process of inserting the item submission block into a new page](pt-br/_assets/gifs/bloco_submissão_de_itens_1.gif)

Initially, the block is empty because it expects you to configure which collection this form refers to. By clicking the "Select the destination Collection" button, the modal presented will show only the collections configured to accept public item submission, as mentioned [in the previous section](#configurando-a-coleção).

Once the collection is chosen, the block will be filled with a "visual preview" of how the form will look. To actually see the form in action, you need to click Preview or Publish the page.

![Previewing the item submission block on a new page](pt-br/_assets/gifs/bloco_submissão_de_itens_2.gif)

The form filled out in the example above generated a new private item in the collection, which can then be evaluated and configured as public, if approved, in the Tainacan panel.

<div style="float: right; margin-left: 32px;">

![Submission block options](pt-br/_assets/gifs/bloco_submissão_de_itens_3.gif)

</div>

## Advanced Block Settings

By clicking on the item submission block and the gear icon in the upper right corner of the screen, the right sidebar of the editor will show a series of block settings. In this section, we will cover them and demonstrate some use cases.

<!-- tabs:start -->

### ** Submission Return Message **

This setting concerns the message that will be displayed when the item has been successfully submitted in the form. By default, this information appears as shown in the image below:

![Submission block options](pt-br/_assets/images/bloco_submissao_de_itens_1.png)

It can be a good place to inform, for example, that the submission is being evaluated by the administrative team and that if approved, the item will be made available in the collection's item listing.

### ** Section Labels **

As can be seen in the block preview, the item submission form has four main sections, in the following order:

1. The **Main Document** of the item, which can be either a file, plain text, or an online address via URL link;
2. The **Thumbnail**, which will represent the item in listings and is automatically generated from the Document by default but can be submitted by the user;
3. The **Attachments list**, which can consist of one or more files related to the item in some way;
4. The **Metadata list**, which constitutes the general information of the item and gives structure to the data required by the form.

These labels may make sense in Tainacan's administrative interface, but you might prefer to use terms that better communicate with your audience. For example, perhaps _"Information"_ is clearer than _"Metadata"_ and _"Extra files"_ is better than _"Attachments"_. For this reason, you can change these labels in this section. You can also choose to leave them blank, which will hide these separations between the sections, giving a sense of unity to the form fields.

### ** Metadata Entry **

In the Metadata Entry panel, you can see all the fields that have been configured on the metadata screen in the collection configuration. Here you can hide some metadata that you do not consider appropriate to appear on this form. For example, a field that keeps the information of whether that item was approved after review certainly does not need to be on the public form!. Note, however, that if the metadata in question is mandatory, it cannot be disabled, as this would prevent submission.

### ** Form Elements **

This panel groups all the functionalities to hide/show the other form elements that are not metadata. Using these options, you can bring the layout of your form closer to that of a simpler form on your site, instead of resembling the complex and rich component found in Tainacan's administrative panel:

1. Hide any round button for choosing the document type. Hiding all three, the session with the label will cease to exist. Hiding two out of three of these, the form will stop displaying the round buttons and will immediately display the field for inserting the document of the only remaining type:
   1. Document type file;
   2. Document type plain text;
   3. Document type URL;
2. Hide the Thumbnail session - useful if you want to rely on the automatic generation process from the document or if your items are mostly textual and do not require an image;
3. Hide the Attachments session - if your items do not need them;
4. Show the "Allow comments" button. This is the only element of the item form that is hidden by default. In the curious case where you want the user to decide whether their item can receive comments or not, enable this option;
5. Hide the metadata collapsibles - The entire metadata list has arrows next to the names and lines below the inputs that denote the collapsibles, buttons that when clicked hide that metadata, for better space utilization. If you prefer that this functionality does not appear, use this option. It should be ideal if your form has few metadata;
6. Hide the help buttons - Next to every metadata and form section, a small round button with a question mark offers the user a balloon with filling tips. These tips come from the configuration of each metadata, from the description field. If you consider that the information is not necessary here, you can disable them with this option;
7. Hide the metadata type - Every metadata field in the form has, next to its label, a lighter text indicating the metadata type (text, relationship, number, taxonomy...). This information may not be interesting in the public form, so it can be disabled here.

### ** Colors and Sizes **

Finally, it is possible to change some of the appearance of the form. Although the aesthetics of the components may vary according to the theme used, some adjustments can be made in this panel. It may be desirable to modify the base font size (the font used in the administrative panel is typically smaller than that found in posts and pages) and of course, colors in general. The colors consist generally of variations of gray to show lines and text and two primary colors that come from Tainacan's Turquoise Blue interface. These are important for links, buttons, help balloons, and mouse-over effects on items. It is worth observing the resulting effects in the block preview to get an idea.

<!-- tabs:end -->

## reCAPTCHA Verification in the Form

It is very common on sites with forms like these for malicious users to attack the server. One of the most common ways to do this is by using bots (automated scripts) that repeatedly submit information to the form, either to spread SPAM or to overload the server and possibly take it down.

To protect your site from this type of attack, we strongly recommend using a verification mechanism that can validate submissions made by real users. Although there are several solutions for this, we offer integration with what we consider one of the simplest and most effective, [Google's reCAPTCHA](https://developers.google.com/recaptcha/ ":ignore"). You have probably encountered it on some web form where you had to check a box and complete a challenge to proceed with the submission. There are two steps to make it work on your item submission form:

1. [Configure the site](#configurando-o-recaptcha-no-seu-site) to obtain the reCAPTCHA key;
2. [Enable the collection](#habilitando-a-coleção-para-uso-do-recaptcha) to use it;

### Configuring reCAPTCHA on Your Site

In the WordPress administrative panel, there is a submenu of the Tainacan plugin specifically for this, called "Item Submission." Accessing it, you will find two fields that need to be filled: The _site key_ and the _site secret_.

![Screenshot of the panel where the site is configured to use reCAPTCHA in item submission forms](pt-br/_assets/images/submissao-itens-captcha-1.png)

Both fields are obtained on the reCAPTCHA site when you register your site at this link: [https://www.google.com/recaptcha/admin/create](https://www.google.com/recaptcha/admin/create ":ignore"). Don't forget to click "Save changes" after completing this step.

### Enabling the Collection to Use reCAPTCHA

In the settings related to the submission form within the collection form, enable the option that says "Use reCAPTCHA verification in the submission form." Once this is done, save the collection.

?> Note that if you had already created a submission block before performing these settings, you will need to delete it and redo the block insertion.

## Frequently Asked Questions

### Where do I configure which questions will exist in the form?

The item submission form offered is nothing more than a mapping of the existing item editing form in your collection. Therefore, to configure which fields will exist in it, you need to edit the metadata of your collection. On the metadata page, you can adjust their order, labels, descriptions, and particularities such as whether they are mandatory or not. More information [on this page](metadata).

### How do I set up a validation workflow for submissions?

There is no specific identifier that says "This item came from a submission." By default, items submitted via the form will be sent to the item list tab relative to the [status configured in the collection](#configurando-a-coleção). This is how you ensure they do not become public immediately and can be reviewed and approved first. What is possible is to create private metadata of the Selection or Taxonomy type (which does not appear in the form) to help you identify possible sub-steps of an approval workflow (such as "Under review," "Needs revision") before it is definitively approved.

### I can't create new terms through the form, why?

Currently, it is not possible to create new terms for taxonomy-type metadata directly through the item submission form. This limitation exists because Taxonomies are repository-level configurations and require an extra layer of security to ensure external users do not cause issues with your controlled vocabularies. However, this functionality is open for discussion for future development.

### I want a form with fields not related to the collection. Is it possible?

The item submission module is designed for items in Tainacan collections. If you want to obtain information from your user and do not consider it information for a specific collection in your repository, perhaps what you need is a form plugin for your site. There are [several available for WordPress](https://br.wordpress.org/plugins/search/form/ ":ignore") that can even be inserted on the same page as your item submission block, but making it clear that they are separate pieces of information.

### I already use a reCAPTCHA plugin. Is there any integration with item submission?

Indeed, there are [some plugins that already enable reCAPTCHA](https://br.wordpress.org/plugins/search/reCaptcha/ ":ignore") on most forms on your site. These plugins, however, do not automatically integrate with Tainacan. However, once using them, you can take advantage of the _site key_ and _site secret_ generated for them and copy and paste them into the [configuration fields](#configurando-o-recaptcha-no-seu-site), so all forms will be protected by the same mechanism, and you can even track attack and protection statistics in the Google reCAPTCHA administrative panel.