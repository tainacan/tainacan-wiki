classDiagram
    direction TB
    class Importer {
        -id : identifier
        #tmp_file : string
        #collections : array
        -options : array
        #default_options : array
        -accepts : mixed
        #steps : array
        -transients : array
        -current_step : mixed
        -in_step_count : mixed
        -current_collection : mixed
        -current_collection_item : mixed
        -url : mixed
        -log : mixed
        -error_log : mixed
        -abort : bool
        -array_attributes : array
        +__construct(attributes)
        +_to_Array(short)
        +get_id()
        +set_url(url)
        +get_url()
        +get_current_step()
        +set_current_step(value)
        +get_in_step_count()
        +set_in_step_count(value)
        +get_current_collection()
        +set_current_collection(value)
        +get_current_collection_item()
        +set_current_collection_item(value)
        +get_tmp_file()
        +set_tmp_file(filepath)
        +get_collections()
        +set_collections(value)
        +get_options()
        +set_options(options)
        #set_default_options(options)
        +set_steps(steps)
        +get_steps()
        -get_transients()
        -set_transients(data)
        +get_log()
        +get_error_log()
        +add_file(file)
        +add_log(message)
        +add_error_log(message)
        +add_collection(collection)
        +remove_collection(col_id)
        -upload_file(file_array)
        +fetch_from_remote(url)
        +get_option(key)
        +add_import_method(method)
        +remove_import_method(method)
        +add_transient(key, data)
        +delete_transient(key)
        +get_transient(key)
        +is_finished()
        #cancel_abort()
        #abort()
        +get_abort()
        +get_progress_label()
        +get_progress_value()
        #set_current_step_total(value)
        #set_step_total(step, value)
        +get_source_metadata()
        +get_source_number_of_items()
        +options_form()
        +get_output()
        +process_collections()
        #next_item()
        #next_collection()
        #next_step()
        +insert(processed_item, collection_index)
        +after_inserted_item(insertedItem, collection_index)
        +run()
        +create_new_metadata(metadata_description, collection_id, parent_id)
    }
    class Test_Importer {
        #steps : mixed
        #selectbox_values : mixed
        #date_values : mixed
        #numeric_values : mixed
        #text_values : mixed
        #textarea_values : mixed
        #extra_values : mixed
        #tax_repo : mixed
        #col_repo : mixed
        #items_repo : mixed
        #metadata_repo : mixed
        #item_metadata_repo : mixed
        +__construct(attributes)
        +options_form()
        +create_taxonomies()
        +create_collections()
        +link_relationship()
        +close_taxonomies()
        +finish_processing()
        +process_item(index, collection_definition)
        +after_inserted_item(inserted_item, collection_index)
        +get_col1_number_of_items()
        +get_col2_number_of_items()
        -create_metadata(args, collection)
        +get_col1_item(index)
        +get_col2_item(index)
    }
    Importer <|-- Test_Importer
