classDiagram
    class Importer {
        -id : identifier
        #tmp_file : string
        #collections : array
        -options : array
        #default_options : array
        -accepts : mixed
        #steps : array
        -transients : array
        -current_step : mixed
        -in_step_count : mixed
        -current_collection : mixed
        -current_collection_item : mixed
        -url : mixed
        -log : mixed
        -error_log : mixed
        -abort : bool
        -array_attributes : array
        +__construct(attributes)
        +_to_Array(short)
        +get_id()
        +set_url(url)
        +get_url()
        +get_current_step()
        +set_current_step(value)
        +get_in_step_count()
        +set_in_step_count(value)
        +get_current_collection()
        +set_current_collection(value)
        +get_current_collection_item()
        +set_current_collection_item(value)
        +get_tmp_file()
        +set_tmp_file(filepath)
        +get_collections()
        +set_collections(value)
        +get_options()
        +set_options(options)
        #set_default_options(options)
        +set_steps(steps)
        +get_steps()
        -get_transients()
        -set_transients(data)
        +get_log()
        +get_error_log()
        +add_file(file)
        +add_log(message)
        +add_error_log(message)
        +add_collection(collection)
        +remove_collection(col_id)
        -upload_file(file_array)
        +fetch_from_remote(url)
        +get_option(key)
        +add_import_method(method)
        +remove_import_method(method)
        +add_transient(key, data)
        +delete_transient(key)
        +get_transient(key)
        +is_finished()
        #cancel_abort()
        #abort()
        +get_abort()
        +get_progress_label()
        +get_progress_value()
        #set_current_step_total(value)
        #set_step_total(step, value)
        +get_source_metadata()
        +get_source_number_of_items()
        +options_form()
        +get_output()
        +process_collections()
        #next_item()
        #next_collection()
        #next_step()
        +insert(processed_item, collection_index)
        +after_inserted_item(insertedItem, collection_index)
        +run()
        +create_new_metadata(metadata_description, collection_id, parent_id)
    }
    class Flickr_Importer {
        #endPoint : mixed
        #method : mixed
        #apiKey : mixed
        #perPage : mixed
        #format : mixed
        #apiKeyValue : mixed
        #steps : mixed
        -items_repo : mixed
        +__construct(attributes)
        +get_source_metadata()
        +process_item(index, collection_definition)
        +identify_url(showDetails)
        +get_source_number_of_items()
        -get_list_items()
        -process_item_user_request(items_json, index, collection_definition)
        -process_item_album_request(items_json, index, collection_definition)
        -process_item_single_request(items_json, index, collection_definition)
        -get_item_data(id)
        +after_inserted_item(inserted_item, collection_index)
        +save_mapping(collection_id, mapping)
        +get_mapping(collection_id)
        +add_collection(collection)
        -get_image_mime_type(image_path)
        +options_form()
    }
    Importer <|-- Flickr_Importer
